y<-dat %>% filter(Diet=="chow" & Sex=="M") %>% select(Bodyweight) %>% unlist()
library(dplyr)
y<-dat %>% filter(Diet=="chow" & Sex=="M") %>% select(Bodyweight) %>% unlist()
mean(y<=(mean(y)+popsd(y)))
library(rafa)
library(rafalib)
install.packages("rafalib")
library(dplyr)
library(rafalib)
y<-dat %>% filter(Diet=="chow" & Sex=="M") %>% select(Bodyweight) %>% unlist()
mean(y<=(mean(y)+popsd(y)))
mean(y<=(mean(y)+popsd(y)))-mean(y<=(mean(y)-popsd(y)))
z <- ( y - mean(y) ) / popsd(y)
mean( abs(z) <=1 )
mean( abs(z) <=1 )
mean( abs(z) <=2 )
mean( abs(z) <=3 )
qqnorm(z)
abline(0,1)
mypar(2,2)
y <- filter(dat, Sex=="M" & Diet=="chow") %>% select(Bodyweight) %>% unlist
z <- ( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
y <- filter(dat, Sex=="F" & Diet=="chow") %>% select(Bodyweight) %>% unlist
z <- ( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
y <- filter(dat, Sex=="M" & Diet=="hf") %>% select(Bodyweight) %>% unlist
z <- ( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
y <- filter(dat, Sex=="F" & Diet=="hf") %>% select(Bodyweight) %>% unlist
z <- ( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
str(y)
?replicate
replicate(10000,sample(y,25))
a<-replicate(10000,sample(y,25))
str(a)
a[,1]
a<-replicate(10000,mean(sample(y,25))
set.seed(1)
a<-replicate(10000,mean(sample(y,25)))
str(a)
set.seed(1)
y<-replicate(10000,mean(sample(y,25)))
hist(y)
mpar(1,1)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
set.seed(1)
y<-replicate(10000,mean(sample(y,25)))
hist(y)
mypar(1,1)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
set.seed(1)
y<-replicate(10000,mean(sample(y,25)))
hist(y)
mypar(1,2)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
set.seed(1)
y<-replicate(10000,mean(sample(y,25)))
mypar(1,2)
hist(y)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
set.seed(1)
y<-replicate(10000,mean(sample(y,25)))
mypar(2,2)
hist(y)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
set.seed(1)
avgs <- replicate(10000, mean( sample(y, 25)))
mypar(1,2)
hist(avgs)
qqnorm(avgs)
qqline(avgs)
y <- filter(dat, Sex=="M" & Diet=="chow") %>% select(Bodyweight) %>% unlist
set.seed(1)
z<-replicate(10000,mean(sample(y,25)))
mypar(2,2)
hist(z)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
#..or
set.seed(1)
avgs <- replicate(10000, mean( sample(y, 25)))
mypar(2,2)
hist(avgs)
qqnorm(avgs)
qqline(avgs)
y <- filter(dat, Sex=="M" & Diet=="chow") %>% select(Bodyweight) %>% unlist
set.seed(1)
z<-replicate(10000,mean(sample(y,25)))
mypar(2,2)
hist(z)
z<-( y - mean(y) ) / popsd(y)
qqnorm(z);abline(0,1)
#..or
set.seed(1)
avgs <- replicate(10000, mean( sample(y, 25)))
#mypar(2,2)
hist(avgs)
qqnorm(avgs)
qqline(avgs)
url <- "https://raw.githubusercontent.com/genomicsclass/dagdata/master/inst/extdata/babies.txt"
filename <- basename(url)
download(url, destfile=filename)
babies <- read.table("babies.txt", header=TRUE)
bwt.nonsmoke <- filter(babies, smoke==0) %>% select(bwt) %>% unlist
bwt.smoke <- filter(babies, smoke==1) %>% select(bwt) %>% unlist
library(downloader)
library(dplyr)
url <- "https://raw.githubusercontent.com/genomicsclass/dagdata/master/inst/extdata/babies.txt"
filename <- basename(url)
download(url, destfile=filename)
babies <- read.table("babies.txt", header=TRUE)
bwt.nonsmoke <- filter(babies, smoke==0) %>% select(bwt) %>% unlist
bwt.smoke <- filter(babies, smoke==1) %>% select(bwt) %>% unlist
?shuffle
library(raflab)
library(rafalab)
install.packages("rafalib")
library(rafalab)
library(rafalib)
?shuffle
?shuffle()
(.95)^20
.95*.02
.02*.05
.98*.03
.97*.98
.9506+.0294+.001+.019
.0294/(.0294+.019)
pnorm(.975)
pnorm(1.96)
pnorm(1,sd=2)
qnorm(.8)
pnorm(.84)
19.6/4.16
4.711^2
10/sqrt(23)
2.085144*1.96
5-4.086882
pnorm(.913118,sd=2.085144)
pnorm(.913118)
qnorm(.8)
(19.6/2.16)^2
10/sqrt(83)
1.0976*1.96
pnorm(.85)
library(UsingR)
data("father.son",package="UsingR")
mean(father.son$sheight)
str(father.son)
library(dplyr)
father.son %>%
filter(round(fheight,0)==71) %>%
mean(sheight)
summary(father.son)
father.son %>%
filter(round(fheight,0)==71) %>%
mean(sheight,na.rm=TRUE)
library(dplyr)
father.son %>%
filter(round(fheight,0)==71)
father.son %>%
filter(round(fheight,0)==71) %>%
mean(sheight)
library(dplyr)
father.son %>%
filter(round(fheight,0)==71) %>%
mean(father.son$sheight)
?mean
library(dplyr)
father.son %>%
filter(round(fheight,0)==71) %>%
max(sheight)
ibrary(dplyr)
fH71<-father.son %>%
filter(round(fheight,0)==71) %>%
mean(fH71$sheight)
summary(fH71)
library(dplyr)
fH71<-father.son %>%
filter(fheight>71)
mean(fH71$sheight)
library(dplyr)
fH71<-father.son %>%
filter(round(fheight,0)==71)
mean(fH71$sheight)
library(dplyr)
fH71<-father.son %>%
filter(round(fheight,0)==71) %>%
mean(sheight)
library(dplyr)
fH71<-father.son %>%
filter(round(fheight,0)==71) %>%
mean(fH71$sheight)
fH71<-father.son %>%
filter(round(fheight,0)==71) %>%
mean(fH71$sheight)
fH71<-father.son %>%
filter(round(fheight,0)==71)
mean(fH71$sheight)
library(dplyr)
fH71<-father.son %>%
filter(round(fheight,0)==71) %>%
summarize(mean(sheight))
father.son %>%
filter(round(fheight,0)==71) %>%
summarize(mean(sheight))
x1=seq(1,10,1)
X=cbind(x1,2*x1,3*x1,4*x1,5*x1)
sum(X[7,])
x1=1:10
X=cbind(x1,2*x1,3*x1,4*x1,5*x1)
sum(X[7,])
matrix(1:60,20,3)
matrix(1:60,20,3,byrow=TRUE)
?%8%
?%*%
X=matrix(100,20,5)
X
X=matrix(seq(1,100),20,5)
X=matrix(seq(1,100),20,5)
X
X %*% matrix(1,ncol(X) )
X%*%diag(ncol(X))
diag(ncol(X))
diag(X)
?diag
X
diag(X)
diag(ncol(X))
diag(5)
X = cbind(rep(1,nx + ny),rep(c(0,1),c(nx, ny)))
nx<-5
ny<-7
X = cbind(rep(1,nx + ny),rep(c(0,1),c(nx, ny)))
X
crossprod(X)
XtX = t(X) %*% X
XtX[ 1,1 ]
XtX
library(devtools)
install_github("genomicsclass/GSE5859Subset")
library(GSE5859Subset)
data(GSE5859Subset) ##this loads the three tables
head(sampleInfo)
theDate="2005-06-27"
thisDate<-sampleInfo[sampleInfo[,2]==theDate,]
nrow(thisDate)
thisDate
theDate="2005-06-27"
thisDate<-sampleInfo[sampleInfo$date==theDate,]
nrow(thisDate)
sum(sampleInfo$date=="2005-06-27")
library(MASS)
library(ISLR)
regplot=function(x,y){
fit=lm(y~x)
plot(x,y)
abline(fit,col="red")
}
attach(Carseats)
regplot(Price,Sales)
regplot=function(x,y,...){
fit=lm(y~x)
plot(x,y,...)
abline(fit,col="red")
}
regplot(Price,Sales,xlab="Price",ylab="Sales",col="blue",pch=20)
0.014/0.986
7.5*.014
library(ISLR)
data(Autos)
data(Auto)
str(Auto)
fit<-m(mpg~., data = Auto);summary(fit)
fit<-(mpg~., data = Auto)
fit<-lm(mpg~., data = Auto)
summary(fit)
fit<-lm(mpg~.-name, data = Auto)
summary(fit)
table(Auto$name)
length(unique(Auto$name))
lengtgh(Auto$name)
length(Auto$name)
autoAll = lm(mpg~.-name, data = Auto)
summary(autoAll)
?boot
?bootstrap
install.packages("boot")
library(boot)
df<-c(1,2,3)
db<-boot(df,R=1000)
?sample
db<-sample(df,1000,replace=TRUE)
table(db)
head(db)
db<-sample(df,3,replace=TRUE)
db
?replicate
replicate(1000,sample(df,3,replace=TRUE))
db<-replicate(1000,sample(df,3,replace=TRUE))
str(db)
head(db)
str(db)
?subset
db<-t(db)
str(db)
head(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
head(no1)
summary(no1)
nrow(no1)
nrow(db)
no1 <- db[ which(db[,]!=1),]
no1 <- db[ which(db[,1:3]!=1),]
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
db<-sample(df,1000,replace=TRUE)
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
db<-sample(df,1000,replace=TRUE)
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(1000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(10000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(10000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(10000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(10000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(10000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)
db<-replicate(100000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,3,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 && db[,4]!=1),]
nrow(no1)/nrow(db)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 && db[,4]!=1),]
nrow(no1)/nrow(db)
str(df)
df=c(1,2,3,4)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 && db[,4]!=1),]
nrow(no1)/nrow(db)
str(df)
df=c(1,2,3,4)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
nrow(db)
head(db)
df=c(1,2,3,4)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4)
db<-replicate(100000,sample(df,4,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4,5)
db<-replicate(100000,sample(df,5,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1 & & db[,5]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4,5)
db<-replicate(100000,sample(df,5,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1 & & db[,5]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4,5)
db<-replicate(100000,sample(df,5,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1 &  db[,5]!=1),]
nrow(no1)/nrow(db)
df=c(1,2,3,4,5)
db<-replicate(100000,sample(df,5,replace=TRUE))
db<-t(db)
no1 <- db[ which(db[,1]!=1 & db[,2]!=1 & db[,3]!=1 & db[,4]!=1 &  db[,5]!=1),]
nrow(no1)/nrow(db)
library(ISLR)
load ("./data/5.R.RData")
setwd("C:/Users/Mike/Rspace/SU-SL/R_sessions")
library(ISLR)
load ("./data/5.R.RData")
str(Xy)
lfit<-lm(y~X1+X2,data=Xy)
lfit
summary(lfit)
lfit<-lm(y~X1*X2,data=Xy)
lfit
summary(lfit)
load ("./data/5.R.RData")
lfit<-glm(y~X1*X2,data=Xy)
lfit
summary(lfit)
plot(X1,X2)
plot(Xy$X1,Xy$X2)
library(ISLR)
load ("./data/5.R.RData")
attach(Xy)
lfit<-glm(y~X1*X2,data=Xy)
lfit
summary(lfit)
lfit<-glm(y~X1=X2,data=Xy)
lfit
summary(lfit)
lfit<-glm(y~X1+X2,data=Xy)
lfit
summary(lfit)
summary(lm(y~.,data=Xy))
?matplot
matplot(Xy,type="l")
str(xY)
str(Xy)
summary(Xy)
plot(y)
plot(X1)
?matplot
